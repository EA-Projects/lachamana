function flattenObject(e,t="",n={}){for(let a in e){if(!e.hasOwnProperty(a))continue;const o=t?`${t}.${a}`:a;"object"==typeof e[a]&&null!==e[a]?flattenObject(e[a],o,n):n[o]=e[a]}return n}function loadLanguage(e){$.i18n().locale=e,$.getJSON(`/locales/${e}.json`,(function(t){const n=flattenObject(t);$.i18n().load({[e]:n}).done((function(){$("[data-i18n]").each((function(){const e=$(this).data("i18n"),t=$.i18n(e);$(this).html(t||`[${e}]`)})),$("[data-i18n-placeholder]").each((function(){const e=$(this).data("i18n-placeholder"),t=$.i18n(e);$(this).attr("placeholder",t||`[${e}]`)})),$("[data-i18n-value]").each((function(){const e=$(this).data("i18n-value"),t=$.i18n(e);$(this).attr("value",t||`[${e}]`)})),$("[data-i18n-href]").each((function(){const e=$(this).data("i18n-href"),t=$.i18n(e);$(this).attr("href",t||"#")})),$(".lang-button").removeClass("active"),$(`.lang-button[data-lang="${e}"]`).addClass("active"),$("body").removeClass("is-en is-es").addClass(`is-${e}`),localStorage.setItem("lang",e)}))}))}window.addEventListener("load",(function(){"#packages"===window.location.hash&&setTimeout((function(){$("#pricingModal").modal("show")}),250);const e=gsap.utils.toArray("#stacked-gallery .inner-content-holder .inner-gallery .inner-photos");gsap.set(e,{opacity:1});let t=gsap.timeline({scrollTrigger:{trigger:"#stacked-gallery",start:"0% 0%",end:"102% 100%",scrub:1}});t.from("#stacked-gallery .inner-content-holder .inner-content img, #stacked-gallery .inner-content-holder .inner-content h3, #stacked-gallery .inner-content-holder .inner-content p",{y:30,opacity:0,filter:"blur(30px)",stagger:.4,duration:4});for(let n=0;n<e.length;n+=1){const a=e.slice(n,n+1);t.from(a,{opacity:0,scale:()=>gsap.utils.random(.8,.9),filter:"blur(30px)",stagger:{each:1},ease:"power2.out",duration:4},"=-3.5"),t.to(a,{opacity:0,scale:()=>gsap.utils.random(.8,1.2),filter:"blur(10px)",stagger:{each:1},ease:"power2.in",duration:4,delay:0})}t.from("#stacked-gallery .inner-content-holder .inner-content div",{y:30,filter:"blur(30px)",opacity:0,duration:3}).to("#stacked-gallery .inner-content-holder .inner-content img, #stacked-gallery .inner-content-holder .inner-content h3, #stacked-gallery .inner-content-holder .inner-content p, #stacked-gallery .inner-content-holder .inner-content div",{delay:4,filter:"blur(30px)",stagger:.4,opacity:0,duration:4});var n=$("#inner-full-video");$("#videoPreviewModal").on("shown.bs.modal",(function(){n.get(0).currentTime=0,n.get(0).play()})),$("#videoPreviewModal").on("hidden.bs.modal",(function(){n.get(0).pause(),n.get(0).currentTime=0}));loadLanguage("es"===(localStorage.getItem("lang")||navigator.language.slice(0,2))?"es":"en"),$(".lang-button").on("click",(function(){loadLanguage($(this).data("lang"))})),$((function(){$("#datepicker-in").datepicker({dateFormat:"dd-mm-yy",duration:"fast"}),$("#datepicker-out").datepicker({dateFormat:"dd-mm-yy",duration:"fast"})})),$("#reserve-form").length&&$((function(){const e=document.getElementById("reserve-form");e.addEventListener("submit",(t=>{$("#reserve-form").addClass("disabled"),$("#reserve-form").addClass("readonly"),t.preventDefault();const n=new FormData(e);fetch("https://script.google.com/macros/s/AKfycbw-0Wz2WHsvbkMslQU7TtJOBQyjSMasu5uXetpxQJqxMhWujjlpAT_XozmCgU2WYdfd/exec",{method:"POST",body:n}).then((e=>{$("#success-message").addClass("visible"),$("#reserve-form").addClass("readonly"),$(".wrapper-reserve-area").addClass("readonly"),$("#reserve-form input.button").val("Submitted")})).catch((e=>{console.error("Error!",e.message),$("#success-message").removeClass("visible"),$("#reserve-form").removeClass("readonly"),$(".wrapper-reserve-area").removeClass("readonly"),$("#reserve-form input.button").val("Send me more info")}))}))})),$("span.copy").on("click",(function(){const e=$(this),t=e.data("email");navigator.clipboard.writeText(t).then((function(){const t=e.find("span").text();e.find("span").text("Copied to clipboard!"),setTimeout((function(){e.find("span").text(t)}),2e3)}))}))}));