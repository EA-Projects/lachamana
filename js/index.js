function flattenObject(e,t="",a={}){for(let n in e){if(!e.hasOwnProperty(n))continue;const r=t?`${t}.${n}`:n;"object"==typeof e[n]&&null!==e[n]?flattenObject(e[n],r,a):a[r]=e[n]}return a}function loadLanguage(e){$.i18n().locale=e,$.getJSON(`/locales/${e}.json`,(function(t){const a=flattenObject(t);$.i18n().load({[e]:a}).done((function(){$("[data-i18n]").each((function(){const e=$(this).data("i18n"),t=$.i18n(e);$(this).html(t||`[${e}]`)})),$("[data-i18n-placeholder]").each((function(){const e=$(this).data("i18n-placeholder"),t=$.i18n(e);$(this).attr("placeholder",t||`[${e}]`)})),$("[data-i18n-value]").each((function(){const e=$(this).data("i18n-value"),t=$.i18n(e);$(this).attr("value",t||`[${e}]`)})),$("[data-i18n-href]").each((function(){const e=$(this).data("i18n-href"),t=$.i18n(e);$(this).attr("href",t||"#")})),$(".lang-button").removeClass("active"),$(`.lang-button[data-lang="${e}"]`).addClass("active"),localStorage.setItem("lang",e)}))}))}window.addEventListener("load",(function(){const e=gsap.utils.toArray("#stacked-gallery .inner-content-holder .inner-gallery .inner-photos");let t=gsap.timeline({scrollTrigger:{trigger:"#stacked-gallery",start:"0% 0%",end:"85% 100%",scrub:.5,markers:!0}});t.from("#stacked-gallery .inner-content-holder .inner-content h3, #stacked-gallery .inner-content-holder .inner-content p, #stacked-gallery .inner-content-holder .inner-content div",{y:30,opacity:0,stagger:.2,duration:.2});for(let a=0;a<e.length;a+=1){const n=e.slice(a,a+1);t.from(n,{opacity:0,scale:()=>gsap.utils.random(.5,.9),filter:"blur(30px)",stagger:{each:.2},ease:"power2.out",duration:1},"=-1"),t.to(n,{opacity:0,scale:()=>gsap.utils.random(.8,1.2),filter:"blur(10px)",stagger:{each:.2},ease:"power2.in",duration:1,delay:0})}var a=$("#inner-full-video");$("#videoPreviewModal").on("shown.bs.modal",(function(){a.get(0).currentTime=0,a.get(0).play()})),$("#videoPreviewModal").on("hidden.bs.modal",(function(){a.get(0).pause(),a.get(0).currentTime=0}));loadLanguage("es"===(localStorage.getItem("lang")||navigator.language.slice(0,2))?"es":"en"),$(".lang-button").on("click",(function(){loadLanguage($(this).data("lang"))})),$((function(){$("#datepicker-in").datepicker({dateFormat:"dd-mm-yy",duration:"fast"}),$("#datepicker-out").datepicker({dateFormat:"dd-mm-yy",duration:"fast"})})),$("#reserve-form").length&&$((function(){const e=document.getElementById("reserve-form");e.addEventListener("submit",(t=>{$("#reserve-form").addClass("disabled"),$("#reserve-form").addClass("readonly"),$("#reserve-form input.button").val("Sending Information"),t.preventDefault();const a=new FormData(e);fetch("https://script.google.com/macros/s/AKfycbw-0Wz2WHsvbkMslQU7TtJOBQyjSMasu5uXetpxQJqxMhWujjlpAT_XozmCgU2WYdfd/exec",{method:"POST",body:a}).then((e=>{$("#success-message").addClass("visible"),$("#reserve-form").addClass("readonly"),$(".wrapper-reserve-area").addClass("readonly"),$("#reserve-form input.button").val("Submitted")})).catch((e=>{console.error("Error!",e.message),$("#success-message").removeClass("visible"),$("#reserve-form").removeClass("readonly"),$(".wrapper-reserve-area").removeClass("readonly"),$("#reserve-form input.button").val("Submit Information")}))}))}))}));