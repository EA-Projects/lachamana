function flattenObject(t,n="",a={}){for(let e in t){if(!t.hasOwnProperty(e))continue;const o=n?`${n}.${e}`:e;"object"==typeof t[e]&&null!==t[e]?flattenObject(t[e],o,a):a[o]=t[e]}return a}function loadLanguage(t){$.i18n().locale=t,$.getJSON(`/locales/${t}.json`,(function(n){const a=flattenObject(n);$.i18n().load({[t]:a}).done((function(){$("[data-i18n]").each((function(){const t=$(this).data("i18n"),n=$.i18n(t);$(this).text(n||`[${t}]`)})),$("[data-i18n-placeholder]").each((function(){const t=$(this).data("i18n-placeholder"),n=$.i18n(t);$(this).attr("placeholder",n||`[${t}]`)})),$(".lang-button").removeClass("active"),$(`.lang-button[data-lang="${t}"]`).addClass("active"),localStorage.setItem("lang",t)}))}))}window.addEventListener("load",(function(){loadLanguage("es"===(localStorage.getItem("lang")||navigator.language.slice(0,2))?"es":"en"),$(".lang-button").on("click",(function(){loadLanguage($(this).data("lang"))}))}));